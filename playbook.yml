---
- hosts: localhost
  connection: local
  tasks:
    - ansible.builtin.include_role:
        name: generic

    - ansible.builtin.include_role:
        name: debian
      when: ansible_os_family == "Debian"

    - ansible.builtin.include_role:
        name: "{{ item }}"
      loop:
        - darwin
        - karabiner
        - flameshot
      when: ansible_os_family == "Darwin"

    - ansible.builtin.include_role:
        name: "{{ item }}"
      loop:
        - fzf
        - antigen
        - zsh
        - starship
        - vim
        - terraform
        - packer
        - k9s
        - helm
        - havener
        - kubectl
        - go
        - nodejs
        - gohugo
        - migrate
